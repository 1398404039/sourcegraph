{{define "Head"}}
	{{template "HeadFromMeta" $}}
{{end}}

{{define "Nav"}}

	<div class="bg-white border-bottom border-cool-gray-3-2 shadow py2 px2 lh0">
		<a href="/"><img class="spin" src="{{assetURL "/img/sourcegraph-mark.svg"}}" width="20" /></a>
	</div>

{{end}}

{{define "Body"}}

<div ignore-csp style="max-width: 680px" class="mx-auto mx2">

	<div class="mb3" id="title">
		<a href="{{.ViewDefURL}}" class="btn btn-blue right mt2">View definition</a>
		<h1 class="mb0">
			<span class="code wrap">{{.DefName}}</span>
		</h1>

		<p>
			Defined in <a class="wrap" href="{{.DefFileURL}}">{{.DefFileName}}</a>
		</p>
	</div>

	{{with .Description}}
	<div class="mt3 mb4" id="description">
		<h2>Description</h2>
		<p>{{dangerouslySetHTML .HTML}}</p>
	</div>
	{{end}}

	{{with .RefSnippets}}
		<div class="my4" id="examples">

			<h2>Examples</h2>

			{{range .}}
				<a href="{{.SourceURL}}" class="plainlink">
					<p><pre class="snippet rounded">{{.}}</pre></p>
				</a>
			{{end}}
		</div>
	{{end}}

	<div class="my4" id="references">
		<h2>
			<span class="code">{{.ShortDefName}}</span> is referenced in {{.TotalRepoReferences}} {{numberedNoun .TotalRepoReferences "repository"}}
		</h2>

		{{range $repo := .RefLocs.RepoRefs}}
			<a href="{{urlToRepo $repo.Repo}}">
				<strong>{{$repo.Repo}}</strong>
			</a>
			<ul>
				{{range $file := $repo.Files}}
				<li>{{$file.Count}} {{numberedNoun $file.Count "reference"}} in <a class="wrap" href="{{urlToBlob $repo.Repo $file.Path}}">{{$file.Path}}</a></li>
				{{end}}
			</ul>
		{{end}}

		{{if .TruncatedRefLocs}}
			<p>...</p>
		{{end}}
	</div>
</div>
{{end}}

{{define "Footer"}}
{{end}}
