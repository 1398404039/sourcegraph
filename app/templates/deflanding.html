{{define "Head"}}
<title>{{with .Meta.Title}}{{.}} · {{end}}Sourcegraph</title>
<meta name="description" content="{{.Meta.Description}}">
{{end}}

{{define "Nav"}}{{end}}

{{define "Body"}}
<div class="dl-container">

	<span class="nav"><a href="{{.RepoLandingURL}}" class="toplink">{{.Repo.URI}}</a>&nbsp;·&nbsp;<a href="{{.FileURL}}" class="toplink">{{.Def.Def.File}}</a></span>

	{{with .Def}}

	{{with .FmtStrings}}
	<h1><tt>{{.DefKeyword}} <span class="highlight-h1">{{.Name.ScopeQualified}}</span>{{.NameAndTypeSeparator}}{{.Type.ScopeQualified}}</tt></h1>
	{{end}}

	{{end}}{{/* end "with .Def" */}}

	<a href="{{.DefSnippet.SourceURL}}"><button>View source</button></a>

	{{with .Def}}

	<h2>Documentation</h2>
	<p>{{dangerouslySetHTML .DocHTML.HTML}}</p>

	{{end}}{{/* end "with .Def" */}}

	<h2>How to use</h2>

	{{if .RefSnippets}}
		<p>{{if (gt (len .RefSnippets) 1)}}Here are some examples{{else}}Here's an example{{end}} of how you can use <tt>{{.Def.Name}}</tt>.</p>

		{{range .RefSnippets}}
			<a href="{{.SourceURL}}" class="plainlink">
				<p><pre class="snippet">{{renderSnippet .}}</pre></p>
			</a>
		{{end}}
	{{end}}

	<h2><tt class="highlight-h2">{{.Def.Name}}</tt> is referenced in <span class="highlight">{{.RefLocs.TotalRepos}}</span> {{numberedNoun .RefLocs.TotalRepos "repository"}}</h2>
	<ul class="refslist">
		{{range $repo := .RefLocs.RepoRefs}}
		<li>
			<a href="{{repoToURL $repo.Repo}}" class="refsrepolink">{{$repo.Repo}}</a>
			<ul>
				{{range $file := $repo.Files}}
				<li class="refsfiletext">{{$file.Count}} {{numberedNoun $file.Count "reference"}} in <a href="{{repoPathToBlobURL $repo.Repo $file.Path}}" class="refsfilelink">{{$file.Path}}</a></li>
				{{end}}
			</ul>
		</li>
		{{end}}
		{{if .TruncatedRefLocs}}
		<li>...</li>
		{{end}}
	</ul>

	<h2>Definition</h2>

	<a href="{{.DefSnippet.SourceURL}}" class="plainlink"><pre class="snippet">{{renderSnippet .DefSnippet}}</pre></a>

</div>
{{end}}

{{define "Footer"}}
{{end}}
