@value base "sourcegraph/components/styles/base.css";
@value colors "sourcegraph/components/styles/colors.css";
@value typography "sourcegraph/components/styles/typography.css";
@value grid "sourcegraph/components/styles/grid.css";
@value layout "sourcegraph/components/styles/layout.css";
@value link "sourcegraph/components/styles/link.css";
@value button "sourcegraph/components/styles/button.css";

@value navbarHeight 40px;

/* Logged out nav */

.logo {
	composes: xs-hide from layout;
	composes: fl from base;
}

.logo-mobile {
	composes: sm-hide md-hide lg-hide from layout;
	composes: mb4 from base;
	composes: tc from typography;
	display: block;
}

.logged-out-header {
	composes: max-width-lg from layout;
	composes: center mt4 ph3 from base;
	composes: tc from typography;
}

.logged-out-nav {
	composes: xs-hide from layout;
	composes: fr from base;
}

.logged-out-nav-mobile {
	composes: fn from base;
	composes: sm-hide md-hide lg-hide from layout;
}

.logged-out-nav-item {
	composes: link-subtle from link;
	composes: pa2 mr2 from base;
}

.btn-login {
	composes: btn normal outline outline-primary from button;
	composes: mr4 ml2 from base;
}
.btn-signup {
	composes: btn normal solid-primary from button;
}


/* Logged in navigation */

.navbar + * {
	/* Account for navbar's position: fixed. */
	padding-top: navbarHeight;
}

.navbar {
	display: flex;
	align-items: center;
	flex-wrap: nowrap;
	composes: bb from base;
	border-color: #efefef;
	background-color: #fafafa;
	z-index: 100;

	height: navbarHeight - 1px; /* 1px for border-bottom-width */
	position: fixed;
	top: 0;
	width: 100%;
}

.logo {
	composes: mt1 mh2 from base;
	width: 2.7rem;
	height: 2.7rem;
}

.logo:hover {
	animation: spin 0.5s ease-in-out 1;
}
@keyframes spin { 50% { transform: rotate(180deg) scale(1.2) } 100% { transform: rotate(180deg) scale(1)} }

.context-container {
	flex: 1 1 auto;
	align-items: center;
	composes: pv1 ph2 from base;
	composes: f3 from typography;
}

.context {
	display: flex;
	align-content: center;

	/* Collapse and add ellipsis if too long. Make sure we can show the logo and avatar. */
	white-space: nowrap;
	max-width: calc(100vw - 230px);
}

.actions {
	composes: ml3 from base;
	white-space: nowrap;
	flex: 0 0 auto;
}
.action {
	composes: f4 from typography;
	display: inline-block;
	white-space: nowrap;
}
.action-username {
	composes: action;
	composes: pt1 ph3 from base;
}

.username {
	composes: b from typography;
}

.modal {
	composes: modal from "sourcegraph/components/styles/modal.css";
	composes: f5 from typography;
	composes: pa3 from base;
	composes: col-10 from grid;
	max-width: 340px;
	min-width: 300px;
}
