import { IStorageService } from 'vs/code/electron-main/storage';
import { TPromise } from 'vs/base/common/winjs.base';
import { ICommandLineArguments, IEnvService, IProcessEnvironment } from 'vs/code/electron-main/env';
import { ILogService } from 'vs/code/electron-main/log';
import { IConfigurationService } from 'vs/platform/configuration/common/configuration';
export interface IWindowState {
    width?: number;
    height?: number;
    x?: number;
    y?: number;
    mode?: WindowMode;
}
export interface IWindowCreationOptions {
    state: IWindowState;
    extensionDevelopmentPath?: string;
    allowFullscreen?: boolean;
}
export declare enum WindowMode {
    Maximized = 0,
    Normal = 1,
    Minimized = 2,
    Fullscreen = 3,
}
export declare const defaultWindowState: (mode?: WindowMode) => IWindowState;
export declare enum ReadyState {
    /**
     * This window has not loaded any HTML yet
     */
    NONE = 0,
    /**
     * This window is loading HTML
     */
    LOADING = 1,
    /**
     * This window is navigating to another HTML
     */
    NAVIGATING = 2,
    /**
     * This window is done loading HTML
     */
    READY = 3,
}
export interface IPath {
    workspacePath?: string;
    filePath?: string;
    lineNumber?: number;
    columnNumber?: number;
    createFilePath?: boolean;
}
export interface IWindowConfiguration extends ICommandLineArguments {
    appRoot: string;
    execPath: string;
    userEnv: IProcessEnvironment;
    zoomLevel?: number;
    workspacePath?: string;
    filesToOpen?: IPath[];
    filesToCreate?: IPath[];
    filesToDiff?: IPath[];
}
export interface IWindowSettings {
    openFilesInNewWindow: boolean;
    reopenFolders: 'all' | 'one' | 'none';
    restoreFullscreen: boolean;
    zoomLevel: number;
}
export declare class VSCodeWindow {
    private logService;
    private envService;
    private configurationService;
    private storageService;
    static menuBarHiddenKey: string;
    static colorThemeStorageKey: string;
    private static MIN_WIDTH;
    private static MIN_HEIGHT;
    private options;
    private showTimeoutHandle;
    private _id;
    private _win;
    private _lastFocusTime;
    private _readyState;
    private _extensionDevelopmentPath;
    private windowState;
    private currentWindowMode;
    private whenReadyCallbacks;
    private currentConfig;
    private pendingLoadConfig;
    constructor(config: IWindowCreationOptions, logService: ILogService, envService: IEnvService, configurationService: IConfigurationService, storageService: IStorageService);
    readonly isPluginDevelopmentHost: boolean;
    readonly extensionDevelopmentPath: string;
    readonly config: IWindowConfiguration;
    readonly id: number;
    readonly win: Electron.BrowserWindow;
    focus(): void;
    readonly lastFocusTime: number;
    readonly openedWorkspacePath: string;
    readonly openedFilePath: string;
    setReady(): void;
    ready(): TPromise<VSCodeWindow>;
    readonly readyState: ReadyState;
    private registerListeners();
    load(config: IWindowConfiguration): void;
    reload(cli?: ICommandLineArguments): void;
    private getUrl(windowConfiguration);
    serializeWindowState(): IWindowState;
    private restoreWindowState(state?);
    private validateWindowState(state);
    getBounds(): Electron.Rectangle;
    toggleFullScreen(): void;
    setMenuBarVisibility(visible: boolean): void;
    sendWhenReady(channel: string, ...args: any[]): void;
    send(channel: string, ...args: any[]): void;
    dispose(): void;
}
