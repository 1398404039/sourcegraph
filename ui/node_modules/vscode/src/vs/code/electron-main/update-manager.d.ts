import { EventEmitter } from 'events';
import { IConfigurationService } from 'vs/platform/configuration/common/configuration';
import { ILifecycleService } from 'vs/code/electron-main/lifecycle';
import { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';
import { IRequestService } from 'vs/platform/request/common/request';
export declare enum State {
    Uninitialized = 0,
    Idle = 1,
    CheckingForUpdate = 2,
    UpdateAvailable = 3,
    UpdateDownloaded = 4,
}
export declare enum ExplicitState {
    Implicit = 0,
    Explicit = 1,
}
export interface IUpdate {
    releaseNotes: string;
    version: string;
    date: Date;
    quitAndUpdate: () => void;
}
export declare const IUpdateService: {
    (...args: any[]): void;
    type: IUpdateService;
};
export interface IUpdateService {
    _serviceBrand: any;
    feedUrl: string;
    channel: string;
    initialize(): void;
    state: State;
    availableUpdate: IUpdate;
    lastCheckDate: Date;
    checkForUpdates(explicit: boolean): void;
    on(event: string, listener: Function): this;
}
export declare class UpdateManager extends EventEmitter implements IUpdateService {
    private lifecycleService;
    private configurationService;
    _serviceBrand: any;
    private _state;
    private explicitState;
    private _availableUpdate;
    private _lastCheckDate;
    private raw;
    private _feedUrl;
    private _channel;
    constructor(instantiationService: IInstantiationService, lifecycleService: ILifecycleService, configurationService: IConfigurationService, requestService: IRequestService);
    private initRaw();
    private quitAndUpdate(rawQuitAndUpdate);
    readonly feedUrl: string;
    readonly channel: string;
    initialize(): void;
    readonly state: State;
    readonly availableUpdate: IUpdate;
    readonly lastCheckDate: Date;
    checkForUpdates(explicit?: boolean): void;
    private setState(state, availableUpdate?);
    private getUpdateChannel();
    private getUpdateFeedUrl(channel);
}
