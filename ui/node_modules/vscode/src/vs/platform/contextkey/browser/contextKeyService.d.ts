import { IContextKey, IContextKeyServiceTarget, IContextKeyService, ContextKeyExpr } from 'vs/platform/contextkey/common/contextkey';
import { IConfigurationService } from 'vs/platform/configuration/common/configuration';
import Event, { Emitter } from 'vs/base/common/event';
export declare class ContextValuesContainer {
    protected _parent: ContextValuesContainer;
    protected _value: {
        [key: string]: any;
    };
    protected _id: number;
    constructor(id: number, parent: ContextValuesContainer);
    setValue(key: string, value: any): boolean;
    removeValue(key: string): boolean;
    getValue<T>(key: string): T;
    fillInContext(bucket: any): void;
}
export declare abstract class AbstractContextKeyService {
    _serviceBrand: any;
    protected _onDidChangeContext: Event<string[]>;
    protected _onDidChangeContextKey: Emitter<string>;
    protected _myContextId: number;
    constructor(myContextId: number);
    createKey<T>(key: string, defaultValue: T): IContextKey<T>;
    readonly onDidChangeContext: Event<string[]>;
    createScoped(domNode: IContextKeyServiceTarget): IContextKeyService;
    contextMatchesRules(rules: ContextKeyExpr): boolean;
    getContextKeyValue<T>(key: string): T;
    setContext(key: string, value: any): void;
    removeContext(key: string): void;
    getContextValue(target: IContextKeyServiceTarget): any;
    abstract getContextValuesContainer(contextId: number): ContextValuesContainer;
    abstract createChildContext(parentContextId?: number): number;
    abstract disposeContext(contextId: number): void;
}
export declare class ContextKeyService extends AbstractContextKeyService implements IContextKeyService {
    private _lastContextId;
    private _contexts;
    private _toDispose;
    constructor(configurationService: IConfigurationService);
    dispose(): void;
    getContextValuesContainer(contextId: number): ContextValuesContainer;
    createChildContext(parentContextId?: number): number;
    disposeContext(contextId: number): void;
}
