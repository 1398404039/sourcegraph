import Event from 'vs/base/common/event';
import { EventEmitter, IEventEmitter } from 'vs/base/common/eventEmitter';
import { IDisposable } from 'vs/base/common/lifecycle';
import { ServicesAccessor, IInstantiationService } from 'vs/platform/instantiation/common/instantiation';
import { IContextKeyServiceTarget, IContextKeyService } from 'vs/platform/contextkey/common/contextkey';
import { CommonEditorConfiguration } from 'vs/editor/common/config/commonEditorConfig';
import { Cursor } from 'vs/editor/common/controller/cursor';
import { Position } from 'vs/editor/common/core/position';
import { Range } from 'vs/editor/common/core/range';
import { Selection } from 'vs/editor/common/core/selection';
import * as editorCommon from 'vs/editor/common/editorCommon';
import { ViewModel } from 'vs/editor/common/viewModel/viewModelImpl';
export declare abstract class CommonCodeEditor extends EventEmitter implements editorCommon.ICommonCodeEditor {
    readonly onDidChangeModelRawContent: Event<editorCommon.IModelContentChangedEvent>;
    readonly onDidChangeModelContent: Event<editorCommon.IModelContentChangedEvent2>;
    readonly onDidChangeModelMode: Event<editorCommon.IModelModeChangedEvent>;
    readonly onDidChangeModelOptions: Event<editorCommon.IModelOptionsChangedEvent>;
    readonly onDidChangeModelDecorations: Event<editorCommon.IModelDecorationsChangedEvent>;
    readonly onDidChangeConfiguration: Event<editorCommon.IConfigurationChangedEvent>;
    readonly onDidChangeModel: Event<editorCommon.IModelChangedEvent>;
    readonly onDidChangeCursorPosition: Event<editorCommon.ICursorPositionChangedEvent>;
    readonly onDidChangeCursorSelection: Event<editorCommon.ICursorSelectionChangedEvent>;
    readonly onDidFocusEditorText: Event<void>;
    readonly onDidBlurEditorText: Event<void>;
    readonly onDidFocusEditor: Event<void>;
    readonly onDidBlurEditor: Event<void>;
    readonly onDidDispose: Event<void>;
    protected domElement: IContextKeyServiceTarget;
    protected id: number;
    protected _lifetimeDispose: IDisposable[];
    protected _configuration: CommonEditorConfiguration;
    protected _contributions: {
        [key: string]: editorCommon.IEditorContribution;
    };
    protected _actions: {
        [key: string]: editorCommon.IEditorAction;
    };
    protected model: editorCommon.IModel;
    protected listenersToRemove: IDisposable[];
    protected hasView: boolean;
    protected viewModel: ViewModel;
    protected cursor: Cursor;
    protected _instantiationService: IInstantiationService;
    protected _contextKeyService: IContextKeyService;
    /**
     * map from "parent" decoration type to live decoration ids.
     */
    private _decorationTypeKeysToIds;
    private _decorationTypeSubtypes;
    constructor(domElement: IContextKeyServiceTarget, options: editorCommon.IEditorOptions, instantiationService: IInstantiationService, contextKeyService: IContextKeyService);
    protected abstract _createConfiguration(options: editorCommon.ICodeEditorWidgetCreationOptions): CommonEditorConfiguration;
    getId(): string;
    getEditorType(): string;
    destroy(): void;
    dispose(): void;
    captureState(...flags: editorCommon.CodeEditorStateFlag[]): editorCommon.ICodeEditorState;
    invokeWithinContext<T>(fn: (accessor: ServicesAccessor) => T): T;
    updateOptions(newOptions: editorCommon.IEditorOptions): void;
    getConfiguration(): editorCommon.InternalEditorOptions;
    getRawConfiguration(): editorCommon.IEditorOptions;
    getValue(options?: {
        preserveBOM: boolean;
        lineEnding: string;
    }): string;
    setValue(newValue: string): void;
    getModel(): editorCommon.IModel;
    setModel(model?: editorCommon.IModel): void;
    abstract getCenteredRangeInViewport(): Range;
    abstract getCompletelyVisibleLinesRangeInViewport(): Range;
    getVisibleColumnFromPosition(rawPosition: editorCommon.IPosition): number;
    getPosition(): Position;
    setPosition(position: editorCommon.IPosition, reveal?: boolean, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    private _sendRevealRange(range, verticalType, revealHorizontal);
    revealLine(lineNumber: number): void;
    revealLineInCenter(lineNumber: number): void;
    revealLineInCenterIfOutsideViewport(lineNumber: number): void;
    private _revealLine(lineNumber, revealType);
    revealPosition(position: editorCommon.IPosition, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    revealPositionInCenter(position: editorCommon.IPosition): void;
    revealPositionInCenterIfOutsideViewport(position: editorCommon.IPosition): void;
    private _revealPosition(position, verticalType, revealHorizontal);
    getSelection(): Selection;
    getSelections(): Selection[];
    setSelection(range: editorCommon.IRange, reveal?: boolean, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    setSelection(editorRange: Range, reveal?: boolean, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    setSelection(selection: editorCommon.ISelection, reveal?: boolean, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    setSelection(editorSelection: Selection, reveal?: boolean, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    private _setSelectionImpl(sel, reveal, revealVerticalInCenter, revealHorizontal);
    revealLines(startLineNumber: number, endLineNumber: number): void;
    revealLinesInCenter(startLineNumber: number, endLineNumber: number): void;
    revealLinesInCenterIfOutsideViewport(startLineNumber: number, endLineNumber: number): void;
    private _revealLines(startLineNumber, endLineNumber, verticalType);
    revealRange(range: editorCommon.IRange, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    revealRangeInCenter(range: editorCommon.IRange): void;
    revealRangeInCenterIfOutsideViewport(range: editorCommon.IRange): void;
    private _revealRange(range, verticalType, revealHorizontal);
    setSelections(ranges: editorCommon.ISelection[]): void;
    abstract getScrollWidth(): number;
    abstract getScrollLeft(): number;
    abstract getScrollHeight(): number;
    abstract getScrollTop(): number;
    abstract setScrollLeft(newScrollLeft: number): void;
    abstract setScrollTop(newScrollTop: number): void;
    abstract setScrollPosition(position: editorCommon.INewScrollPosition): void;
    abstract saveViewState(): editorCommon.ICodeEditorViewState;
    abstract restoreViewState(state: editorCommon.IEditorViewState): void;
    onVisible(): void;
    onHide(): void;
    abstract layout(dimension?: editorCommon.IDimension): void;
    abstract focus(): void;
    abstract isFocused(): boolean;
    abstract hasWidgetFocus(): boolean;
    getContribution<T extends editorCommon.IEditorContribution>(id: string): T;
    addAction(descriptor: editorCommon.IActionDescriptor): void;
    getActions(): editorCommon.IEditorAction[];
    getSupportedActions(): editorCommon.IEditorAction[];
    getAction(id: string): editorCommon.IEditorAction;
    trigger(source: string, handlerId: string, payload: any): void;
    executeCommand(source: string, command: editorCommon.ICommand): void;
    pushUndoStop(): boolean;
    executeEdits(source: string, edits: editorCommon.IIdentifiedSingleEditOperation[]): boolean;
    executeCommands(source: string, commands: editorCommon.ICommand[]): void;
    changeDecorations(callback: (changeAccessor: editorCommon.IModelDecorationsChangeAccessor) => any): any;
    getLineDecorations(lineNumber: number): editorCommon.IModelDecoration[];
    deltaDecorations(oldDecorations: string[], newDecorations: editorCommon.IModelDeltaDecoration[]): string[];
    setDecorations(decorationTypeKey: string, decorationOptions: editorCommon.IDecorationOptions[]): void;
    removeDecorations(decorationTypeKey: string): void;
    addTypingListener(character: string, callback: () => void): IDisposable;
    getLayoutInfo(): editorCommon.EditorLayoutInfo;
    protected _attachModel(model: editorCommon.IModel): void;
    protected abstract _enableEmptySelectionClipboard(): boolean;
    protected abstract _createView(): void;
    protected abstract _getViewInternalEventBus(): IEventEmitter;
    protected _postDetachModelCleanup(detachedModel: editorCommon.IModel): void;
    protected _detachModel(): editorCommon.IModel;
    protected abstract _registerDecorationType(key: string, options: editorCommon.IDecorationRenderOptions, parentTypeKey?: string): void;
    protected abstract _removeDecorationType(key: string): void;
    protected abstract _resolveDecorationOptions(typeKey: string, writable: boolean): editorCommon.IModelDecorationOptions;
}
