/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var event_1 = require("vs/base/node/event");
var ipc_1 = require("vs/base/parts/ipc/common/ipc");
var ipc_electron_1 = require("vs/base/parts/ipc/common/ipc.electron");
var electron_1 = require("electron");
var Client = (function (_super) {
    __extends(Client, _super);
    function Client(id) {
        return _super.call(this, Client.createProtocol(), id) || this;
    }
    Client.createProtocol = function () {
        var onMessage = event_1.fromEventEmitter(electron_1.ipcRenderer, 'ipc:message', function (_, message) { return message; });
        electron_1.ipcRenderer.send('ipc:hello');
        return new ipc_electron_1.Protocol(electron_1.ipcRenderer, onMessage);
    };
    return Client;
}(ipc_1.IPCClient));
exports.Client = Client;
